<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha256-AbA177XfpSnFEvgpYu1jMygiLabzPCJCRIBtR5jGc0k=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"odeezee.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.13.2","exturl":false,"sidebar":{"position":"left","width":300,"display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","Available values":null,"active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="This is a random project - “How to have an animated heat map with slider bar” Lots of issues cropped up. Mostly from getting out of the swing of the different data structures and using pandas. Produce">
<meta property="og:type" content="article">
<meta property="og:title" content="Heat Map Over Time">
<meta property="og:url" content="https://odeezee.github.io/2023/05/21/Heat-Map-Over-Time/index.html">
<meta property="og:site_name" content="Weekend Projects">
<meta property="og:description" content="This is a random project - “How to have an animated heat map with slider bar” Lots of issues cropped up. Mostly from getting out of the swing of the different data structures and using pandas. Produce">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-05-21T23:29:22.000Z">
<meta property="article:modified_time" content="2023-05-21T23:49:14.887Z">
<meta property="article:author" content="Anthony O&#39;Dell">
<meta property="article:tag" content="python">
<meta property="article:tag" content="maps">
<meta property="article:tag" content="heatmap">
<meta property="article:tag" content="folium">
<meta property="article:tag" content="pandas">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://odeezee.github.io/2023/05/21/Heat-Map-Over-Time/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://odeezee.github.io/2023/05/21/Heat-Map-Over-Time/","path":"2023/05/21/Heat-Map-Over-Time/","title":"Heat Map Over Time"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Heat Map Over Time | Weekend Projects</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-116GNW1H9G"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-116GNW1H9G');
</script>
  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Weekend Projects</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Anthony O'Dell"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">Anthony O'Dell</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">7</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/odeezee" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;odeezee" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://odeezee.github.io/2023/05/21/Heat-Map-Over-Time/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="Anthony O'Dell">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weekend Projects">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Heat Map Over Time | Weekend Projects">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Heat Map Over Time
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2023-05-21 18:29:22 / Modified: 18:49:14" itemprop="dateCreated datePublished" datetime="2023-05-21T18:29:22-05:00">2023-05-21</time>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2023/05/21/Heat-Map-Over-Time/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2023/05/21/Heat-Map-Over-Time/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>This is a random project - “How to have an animated heat map with slider bar”</p>
<p>Lots of issues cropped up. Mostly from getting out of the swing of the different data structures and using pandas.</p>
<a href="/2023/05/21/Heat-Map-Over-Time/heatmap.html" title="Produced Heat Map">Produced Heat Map</a>
<a href="/2023/05/21/Heat-Map-Over-Time/data.csv" title="from this CSV file">from this CSV file</a>

<pre><code>import folium
import folium.plugins as plugins
import numpy as np

from datetime import datetime, timedelta
import pandas as pd

# Read the data from the CSV file
df = pd.read_csv(&#39;your_data.csv&#39;)

# Convert the date columns to the appropriate data type
df[&#39;start_date&#39;] = pd.to_datetime(df[&#39;start_date&#39;])
df[&#39;end_date&#39;] = pd.to_datetime(df[&#39;end_date&#39;])

# Initialize a dictionary to store the data
data_dict = &#123;&#125;

# Iterate over each row in the DataFrame
for index, row in df.iterrows():
    start_date = row[&#39;start_date&#39;]
    end_date = row[&#39;end_date&#39;]
    latitude = row[&#39;latitude&#39;]
    longitude = row[&#39;longitude&#39;]

    # Generate a list of dates between the start and end date
    dates = pd.date_range(start=start_date, end=end_date, freq=&#39;D&#39;)

    # Create a row for each date and append it to the data dictionary
    for date in dates:
        date_str = date.date().isoformat()
        coordinates = [latitude, longitude]
        if date_str in data_dict:
            data_dict[date_str].append(coordinates)
        else:
            data_dict[date_str] = [coordinates]

# Convert the data dictionary to a list of lists
data = [[date, coordinates] for date, coordinates in data_dict.items()]

# Create a new DataFrame from the data list
new_df = pd.DataFrame(data, columns=[&#39;date&#39;, &#39;coordinates&#39;])

date_list = new_df[&#39;date&#39;].values.tolist()
coordinate_list = new_df[&#39;coordinates&#39;].values.tolist()

# Save the DataFrame to a CSV file
new_df.to_csv(&#39;output.csv&#39;, index=False)

map_data = coordinate_list
time_index = date_list

m = folium.Map(location=[center_lat, center_lon], zoom_start=10)

hm = plugins.HeatMapWithTime(map_data, index=time_index, auto_play=True, max_opacity=.5, radius=30)

hm.add_to(m)

m
</code></pre>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/maps/" rel="tag"># maps</a>
              <a href="/tags/heatmap/" rel="tag"># heatmap</a>
              <a href="/tags/folium/" rel="tag"># folium</a>
              <a href="/tags/pandas/" rel="tag"># pandas</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2023/05/02/3S21P-18650-Battery-Backup/" rel="prev" title="3S21P 18650 Battery Backup">
                  <i class="fa fa-chevron-left"></i> 3S21P 18650 Battery Backup
                </a>
            </div>
            <div class="post-nav-item">
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Anthony O'Dell</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div><script color="0,0,255" opacity="0.5" zIndex="-1" count="200" src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js"></script>

    </div>
  </footer>

  
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  




<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"odeezee","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js"></script>

</body>
</html>
